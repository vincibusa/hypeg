# Firebase App Hosting Configuration
# https://firebase.google.com/docs/app-hosting/configure

# ID del backend (opzionale, generato automaticamente se omesso)
# backendId: my-backend

# Regione di deployment (default: us-central1)
# location: europe-west1

# Configurazione build per Next.js
build:
  # Usa il builder ufficiale per Next.js
  builder: nextjs
  
  # Configurazioni specifiche per Next.js builder
  nextjs:
    # Versione di Node.js da utilizzare
    nodeVersion: 20
    
    # Comando di build personalizzato (opzionale)
    # buildCommand: npm run build
    
    # Directory di output (opzionale)
    # outputDir: .next

# Variabili d'ambiente - TUTTE le variabili per Firebase App Hosting
env:
  # ========================================
  # PAYPAL CONFIGURATION (Tutte le variabili)
  # ========================================
  
  # PayPal Client ID (sicuro da esporre pubblicamente)
  - variable: NEXT_PUBLIC_PAYPAL_CLIENT_ID
    value: BAAIMM38TVotz1T6r5QZpwJFscZ5AqdgesGSLXZy4OZ6179O65yQcE90UIrLmdH6e7AwiA1MKDJSgprN9s
    availability: [BUILD]

  # PayPal Environment
  - variable: NEXT_PUBLIC_PAYPAL_ENVIRONMENT
    value: sandbox
    availability: [BUILD]

  # PayPal Client Secret (MANTIENI PRIVATO - non esporre mai pubblicamente)
  - variable: PAYPAL_CLIENT_SECRET
    value: EDpcECVEA0HGru8Ayr1kEd9flXNL_FlShP8Fn5rLavJ8QtCoiEjGw1hQdo4MrM4XQDVn-dTok8xbzyH-
    availability: [RUNTIME]

  # PayPal Base URL
  # Sandbox: https://api-m.sandbox.paypal.com
  # Live: https://api-m.paypal.com
  - variable: PAYPAL_BASE_URL
    value: https://api-m.paypal.com
    availability: [RUNTIME]

  # PayPal Webhook ID (per la verifica delle signature)
  # Configurarlo dopo aver creato il webhook su PayPal Developer Dashboard
  - variable: PAYPAL_WEBHOOK_ID
    value: 
    availability: [RUNTIME]

  # ========================================
  # EMAIL CONFIGURATION (Nodemailer)
  # ========================================
  
  # Per Gmail: usa SMTP_HOST=smtp.gmail.com, SMTP_PORT=587
  # Per Gmail devi abilitare l'accesso alle app meno sicure o usare App Password
  - variable: SMTP_HOST
    value: smtp.gmail.com
    availability: [RUNTIME]
    
  - variable: SMTP_PORT
    value: "587"
    availability: [RUNTIME]
    
  - variable: SMTP_USER
    value: tuo.email@gmail.com
    availability: [RUNTIME]
    
  - variable: SMTP_PASS
    value: la_tua_password_app
    availability: [RUNTIME]
    
  - variable: SMTP_FROM
    value: noreply@hipeg.com
    availability: [RUNTIME]

  # ========================================
  # FIREBASE CONFIGURATION (Tutte le variabili)
  # ========================================
  
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    value: AIzaSyAwx3d-y7K3MeP5oOGIDpfjN6g-Kx7rjg0
    availability: [BUILD]
    
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: hypeg-56f5d.firebaseapp.com
    availability: [BUILD]
    
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: hypeg-56f5d
    availability: [BUILD]
    
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: hypeg-56f5d.firebasestorage.app
    availability: [BUILD]
    
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "258915253899"
    availability: [BUILD]
    
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: 1:258915253899:web:b81890add352e106c99e8e
    availability: [BUILD]

# Configurazione di deployment (opzionale)
deploy:
  # Numero di istanze minime (default: 1)
  # minInstances: 1
  
  # Numero di istanze massime (default: 100)
  # maxInstances: 10
  
  # Memoria allocata per istanza (default: 512Mi)
  # memoryMiB: 512
  
  # CPU allocata per istanza (default: 1)
  # cpuCount: 1

# Nota: Le variabili con prefisso NEXT_PUBLIC_ vengono automaticamente
# caricate dai file .env.local e sono disponibili sia a build-time che runtime.
# Le variabili senza prefisso devono essere definite qui per essere disponibili runtime.